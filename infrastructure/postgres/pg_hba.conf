# PostgreSQL Client Authentication Configuration File
# ===================================================
# This file controls SSL/TLS requirements for connections

# TYPE  DATABASE        USER            ADDRESS                 METHOD

# Local connections (within container)
local   all             all                                     trust

# IPv4 connections - require SSL
hostssl all             all             0.0.0.0/0               md5
host    all             all             0.0.0.0/0               reject

# IPv6 connections - require SSL
hostssl all             all             ::/0                    md5
host    all             all             ::/0                    reject

# Optional: Require client certificates for specific users
# hostssl all             admin           0.0.0.0/0               cert clientcert=verify-full
# hostssl all             app_user        0.0.0.0/0               md5 clientcert=verify-ca

# Replication connections (if needed)
# hostssl replication    replicator      0.0.0.0/0               md5